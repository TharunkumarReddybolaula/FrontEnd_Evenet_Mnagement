{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nfunction EnrollComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", p_r2.participantId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", p_r2.participantId, \" - \", p_r2.name, \" \");\n  }\n}\nfunction EnrollComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const e_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", e_r3.eventId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", e_r3.eventId, \" - \", e_r3.title, \" \");\n  }\n}\nexport class EnrollComponent {\n  constructor(http) {\n    this.http = http;\n    this.participants = [];\n    this.events = [];\n    this.participantId = null;\n    this.eventId = null;\n    this.message = '';\n    this.loading = false;\n    this.participantApi = 'http://localhost:5070/api/Participants';\n    this.eventApi = 'http://localhost:5070/api/Events';\n    this.enrollApi = 'http://localhost:5070/api/Enrollments';\n  }\n  ngOnInit() {\n    this.fetchParticipants();\n    this.fetchEvents();\n  }\n  fetchParticipants() {\n    this.http.get(this.participantApi).subscribe({\n      next: data => this.participants = data,\n      error: err => console.error('Error fetching participants', err)\n    });\n  }\n  fetchEvents() {\n    this.http.get(this.eventApi).subscribe({\n      next: data => this.events = data,\n      error: err => console.error('Error fetching events', err)\n    });\n  }\n  enroll() {\n    if (!this.participantId || !this.eventId) {\n      this.message = 'Please select both participant and event.';\n      return;\n    }\n    this.loading = true;\n    this.message = '';\n    const body = {\n      participantId: this.participantId,\n      eventId: this.eventId\n    };\n    this.http.post(this.enrollApi, body).subscribe({\n      next: res => {\n        this.message = res.message || 'Enrollment successful!';\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error enrolling', err);\n        this.message = err.error || 'Enrollment failed!';\n        this.loading = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function EnrollComponent_Factory(t) {\n      return new (t || EnrollComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EnrollComponent,\n      selectors: [[\"app-enroll\"]],\n      decls: 22,\n      vars: 7,\n      consts: [[1, \"page-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"participantId\"], [\"name\", \"participantId\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"eventId\"], [\"name\", \"eventId\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"message\"], [3, \"value\"]],\n      template: function EnrollComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Enroll in Event\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function EnrollComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.enroll();\n          });\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n          i0.ɵɵtext(6, \"Select Participant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"select\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function EnrollComponent_Template_select_ngModelChange_7_listener($event) {\n            return ctx.participantId = $event;\n          });\n          i0.ɵɵelementStart(8, \"option\", 5);\n          i0.ɵɵtext(9, \"Select a participant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, EnrollComponent_option_10_Template, 2, 3, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 7);\n          i0.ɵɵtext(13, \"Select Event\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"select\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function EnrollComponent_Template_select_ngModelChange_14_listener($event) {\n            return ctx.eventId = $event;\n          });\n          i0.ɵɵelementStart(15, \"option\", 5);\n          i0.ɵɵtext(16, \"Select an event\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, EnrollComponent_option_17_Template, 2, 3, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"button\", 9);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"p\", 10);\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.participantId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.participants);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.eventId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.events);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Enrolling...\" : \"Enroll\", \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.message);\n        }\n      },\n      styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","p_r2","participantId","ɵɵadvance","ɵɵtextInterpolate2","name","e_r3","eventId","title","EnrollComponent","constructor","http","participants","events","message","loading","participantApi","eventApi","enrollApi","ngOnInit","fetchParticipants","fetchEvents","get","subscribe","next","data","error","err","console","enroll","body","post","res","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","EnrollComponent_Template","rf","ctx","ɵɵlistener","EnrollComponent_Template_form_ngSubmit_3_listener","EnrollComponent_Template_select_ngModelChange_7_listener","$event","ɵɵtemplate","EnrollComponent_option_10_Template","EnrollComponent_Template_select_ngModelChange_14_listener","EnrollComponent_option_17_Template","ɵɵtextInterpolate1","ɵɵtextInterpolate"],"sources":["C:\\Users\\labuser\\source\\repos\\project\\auth\\src\\app\\participant-eventenroll\\participant-eventenroll.component.ts","C:\\Users\\labuser\\source\\repos\\project\\auth\\src\\app\\participant-eventenroll\\participant-eventenroll.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\ninterface Participant {\n  participantId: number;\n  name: string;\n}\n\ninterface Event {\n  eventId: number;\n  title: string;\n}\n\n@Component({\n  selector: 'app-enroll',\n  templateUrl: './participant-eventenroll.component.html',\n  styleUrls: ['./enroll.component.css']\n})\nexport class EnrollComponent implements OnInit {\n  participants: Participant[] = [];\n  events: Event[] = [];\n\n  participantId: number | null = null;\n  eventId: number | null = null;\n\n  message = '';\n  loading = false;\n\n  private participantApi = 'http://localhost:5070/api/Participants';\n  private eventApi = 'http://localhost:5070/api/Events';\n  private enrollApi = 'http://localhost:5070/api/Enrollments';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.fetchParticipants();\n    this.fetchEvents();\n  }\n\n  fetchParticipants() {\n    this.http.get<Participant[]>(this.participantApi).subscribe({\n      next: (data) => (this.participants = data),\n      error: (err) => console.error('Error fetching participants', err)\n    });\n  }\n\n  fetchEvents() {\n    this.http.get<Event[]>(this.eventApi).subscribe({\n      next: (data) => (this.events = data),\n      error: (err) => console.error('Error fetching events', err)\n    });\n  }\n\n  enroll() {\n    if (!this.participantId || !this.eventId) {\n      this.message = 'Please select both participant and event.';\n      return;\n    }\n\n    this.loading = true;\n    this.message = '';\n\n    const body = {\n      participantId: this.participantId,\n      eventId: this.eventId\n    };\n\n    this.http.post<any>(this.enrollApi, body).subscribe({\n      next: (res) => {\n        this.message = res.message || 'Enrollment successful!';\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Error enrolling', err);\n        this.message = err.error || 'Enrollment failed!';\n        this.loading = false;\n      }\n    });\n  }\n}\n","<div class=\"page-container\">\n  <h2>Enroll in Event</h2>\n\n  <form (ngSubmit)=\"enroll()\">\n    <div class=\"form-group\">\n      <label for=\"participantId\">Select Participant</label>\n      <select [(ngModel)]=\"participantId\" name=\"participantId\" required>\n        <option value=\"\" disabled selected>Select a participant</option>\n        <option *ngFor=\"let p of participants\" [value]=\"p.participantId\">\n          {{ p.participantId }} - {{ p.name }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"eventId\">Select Event</label>\n      <select [(ngModel)]=\"eventId\" name=\"eventId\" required>\n        <option value=\"\" disabled selected>Select an event</option>\n        <option *ngFor=\"let e of events\" [value]=\"e.eventId\">\n          {{ e.eventId }} - {{ e.title }}\n        </option>\n      </select>\n    </div>\n\n    <button type=\"submit\" [disabled]=\"loading\">\n      {{ loading ? 'Enrolling...' : 'Enroll' }}\n    </button>\n  </form>\n\n  <p class=\"message\">{{ message }}</p>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}