{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DeletePromocodeComponent = class DeletePromocodeComponent {\n  constructor(promoService) {\n    this.promoService = promoService;\n    this.promoList = [];\n  }\n  ngOnInit() {\n    // Fetch promo codes from backend on component load\n    this.loadPromoCodes();\n  }\n  loadPromoCodes() {\n    this.promoService.getPromoCodes().subscribe({\n      next: data => this.promoList = data,\n      error: err => {\n        console.error('Error fetching promo codes:', err);\n        alert('Failed to load promo codes from database.');\n      }\n    });\n  }\n  onDelete(promo) {\n    if (!promo.id) {\n      alert(\"promo id missing\");\n      return;\n    }\n    ;\n    if (confirm(`Delete promo code \"${promo.code}\"?`)) {\n      this.promoService.deletePromoCode(promo.id).subscribe({\n        next: res => {\n          alert(res.message);\n          this.promoList = this.promoList.filter(p => p.id !== promo.id);\n        },\n        error: err => {\n          console.error('Error deleting promo code:', err);\n          alert('Failed to delete promo code.');\n        }\n      });\n    }\n    this.loadPromoCodes();\n  }\n};\nDeletePromocodeComponent = __decorate([Component({\n  selector: 'app-delete-promocode',\n  templateUrl: './delete-promocode.component.html',\n  styleUrls: ['./delete-promocode.component.css']\n})], DeletePromocodeComponent);","map":{"version":3,"names":["Component","DeletePromocodeComponent","constructor","promoService","promoList","ngOnInit","loadPromoCodes","getPromoCodes","subscribe","next","data","error","err","console","alert","onDelete","promo","id","confirm","code","deletePromoCode","res","message","filter","p","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\labuser\\source\\repos\\project\\auth\\src\\app\\delete-promocode\\delete-promocode.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { PromocodeService, PromoCode } from '../services/promocode.service';\r\n\r\n@Component({\r\n  selector: 'app-delete-promocode',\r\n  templateUrl: './delete-promocode.component.html',\r\n  styleUrls: ['./delete-promocode.component.css']\r\n})\r\nexport class DeletePromocodeComponent implements OnInit {\r\n\r\n  promoList: PromoCode[] = [];\r\n\r\n  constructor(private promoService: PromocodeService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Fetch promo codes from backend on component load\r\n    this.loadPromoCodes();\r\n  }\r\n\r\n  loadPromoCodes() {\r\n    this.promoService.getPromoCodes().subscribe({\r\n      next: (data) => this.promoList = data,\r\n      error: (err) => {\r\n        console.error('Error fetching promo codes:', err);\r\n        alert('Failed to load promo codes from database.');\r\n      }\r\n    });\r\n  }\r\n\r\nonDelete(promo: PromoCode) {\r\n  if (!promo.id) {\r\n    alert(\"promo id missing\");\r\n    return;\r\n  };\r\n\r\n  if (confirm(`Delete promo code \"${promo.code}\"?`)) {\r\n    this.promoService.deletePromoCode(promo.id).subscribe({\r\n      next: (res: any) => {\r\n        alert(res.message);\r\n        this.promoList = this.promoList.filter(p => p.id !== promo.id);\r\n      },\r\n      error: (err) => {\r\n        console.error('Error deleting promo code:', err);\r\n        alert('Failed to delete promo code.');\r\n      }\r\n    });\r\n  }\r\n  this.loadPromoCodes();\r\n}\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAInCC,YAAoBC,YAA8B;IAA9B,KAAAA,YAAY,GAAZA,YAAY;IAFhC,KAAAC,SAAS,GAAgB,EAAE;EAE2B;EAEtDC,QAAQA,CAAA;IACN;IACA,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAcA,CAAA;IACZ,IAAI,CAACH,YAAY,CAACI,aAAa,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACN,SAAS,GAAGM,IAAI;MACrCC,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,6BAA6B,EAAEC,GAAG,CAAC;QACjDE,KAAK,CAAC,2CAA2C,CAAC;MACpD;KACD,CAAC;EACJ;EAEFC,QAAQA,CAACC,KAAgB;IACvB,IAAI,CAACA,KAAK,CAACC,EAAE,EAAE;MACbH,KAAK,CAAC,kBAAkB,CAAC;MACzB;;IACD;IAED,IAAII,OAAO,CAAC,sBAAsBF,KAAK,CAACG,IAAI,IAAI,CAAC,EAAE;MACjD,IAAI,CAAChB,YAAY,CAACiB,eAAe,CAACJ,KAAK,CAACC,EAAE,CAAC,CAACT,SAAS,CAAC;QACpDC,IAAI,EAAGY,GAAQ,IAAI;UACjBP,KAAK,CAACO,GAAG,CAACC,OAAO,CAAC;UAClB,IAAI,CAAClB,SAAS,GAAG,IAAI,CAACA,SAAS,CAACmB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACP,EAAE,KAAKD,KAAK,CAACC,EAAE,CAAC;QAChE,CAAC;QACDN,KAAK,EAAGC,GAAG,IAAI;UACbC,OAAO,CAACF,KAAK,CAAC,4BAA4B,EAAEC,GAAG,CAAC;UAChDE,KAAK,CAAC,8BAA8B,CAAC;QACvC;OACD,CAAC;;IAEJ,IAAI,CAACR,cAAc,EAAE;EACvB;CACC;AAzCYL,wBAAwB,GAAAwB,UAAA,EALpCzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,C,EACW3B,wBAAwB,CAyCpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}