{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/promocode.service\";\nimport * as i2 from \"@angular/common\";\nfunction DeletePromocodeComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function DeletePromocodeComponent_tr_19_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const promo_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDelete(promo_r1));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const promo_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(promo_r1.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(promo_r1.validFrom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(promo_r1.validTo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(promo_r1.discountPercentage);\n  }\n}\nexport class DeletePromocodeComponent {\n  constructor(promoService) {\n    this.promoService = promoService;\n    this.promoList = [];\n  }\n  ngOnInit() {\n    // Fetch promo codes from backend on component load\n    this.loadPromoCodes();\n  }\n  loadPromoCodes() {\n    this.promoService.getPromoCodes().subscribe({\n      next: data => this.promoList = data,\n      error: err => {\n        console.error('Error fetching promo codes:', err);\n        alert('Failed to load promo codes from database.');\n      }\n    });\n  }\n  onDelete(promo) {\n    if (!promo.id) {\n      alert(\"promo id missing\");\n      return;\n    }\n    ;\n    if (confirm(`Delete promo code \"${promo.code}\"?`)) {\n      this.promoService.deletePromoCode(promo.id).subscribe({\n        next: res => {\n          alert(res.message);\n          this.promoList = this.promoList.filter(p => p.id !== promo.id);\n        },\n        error: err => {\n          console.error('Error deleting promo code:', err);\n          alert('Failed to delete promo code.');\n        }\n      });\n    }\n    this.loadPromoCodes();\n  }\n  static {\n    this.ɵfac = function DeletePromocodeComponent_Factory(t) {\n      return new (t || DeletePromocodeComponent)(i0.ɵɵdirectiveInject(i1.PromocodeService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DeletePromocodeComponent,\n      selectors: [[\"app-delete-promocode\"]],\n      decls: 20,\n      vars: 1,\n      consts: [[1, \"promocode-delete\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n      template: function DeletePromocodeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Delete Promo Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\");\n          i0.ɵɵtext(4, \"Select a promo code from the list below to delete it.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"table\")(6, \"thead\")(7, \"tr\")(8, \"th\");\n          i0.ɵɵtext(9, \"Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"th\");\n          i0.ɵɵtext(11, \"Valid From\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\");\n          i0.ɵɵtext(13, \"Valid To\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\");\n          i0.ɵɵtext(15, \"Discount (%)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"tbody\");\n          i0.ɵɵtemplate(19, DeletePromocodeComponent_tr_19_Template, 12, 4, \"tr\", 1);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"ngForOf\", ctx.promoList);\n        }\n      },\n      dependencies: [i2.NgForOf],\n      styles: [\".promocode-delete[_ngcontent-%COMP%] {\\n  background-color: #1a1a1a;\\n  color: #ffd700;\\n  padding: 70px;\\n  border-radius: 15px;\\n  width: 120%;\\n  max-width: 900px;\\n  box-shadow: 0 0 25px rgba(255, 215, 0, 0.3);\\n  font-family: 'Poppins', Arial, sans-serif;\\n}\\n\\n.promocode-delete[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-size: 2rem;\\n  margin-bottom: 20px;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  padding: 12px;\\n  text-align: left;\\n  border-bottom: 1px solid #ffd700;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 8px 16px;\\n  border: none;\\n  border-radius: 10px;\\n  background-color: #ffd700;\\n  color: #1a1a1a;\\n  cursor: pointer;\\n  font-weight: 600;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #e6c200;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGVsZXRlLXByb21vY29kZS9kZWxldGUtcHJvbW9jb2RlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztFQUNkLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLGdCQUFnQjtFQUNoQiwyQ0FBMkM7RUFDM0MseUNBQXlDO0FBQzNDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIsY0FBYztFQUNkLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvbW9jb2RlLWRlbGV0ZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFhMWExYTtcclxuICBjb2xvcjogI2ZmZDcwMDtcclxuICBwYWRkaW5nOiA3MHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgd2lkdGg6IDEyMCU7XHJcbiAgbWF4LXdpZHRoOiA5MDBweDtcclxuICBib3gtc2hhZG93OiAwIDAgMjVweCByZ2JhKDI1NSwgMjE1LCAwLCAwLjMpO1xyXG4gIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ucHJvbW9jb2RlLWRlbGV0ZSBoMiB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtc2l6ZTogMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG5wIHtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG5cclxudGgsIHRkIHtcclxuICBwYWRkaW5nOiAxMnB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmZmQ3MDA7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDcwMDtcclxuICBjb2xvcjogIzFhMWExYTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZjMjAwO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DeletePromocodeComponent_tr_19_Template_button_click_10_listener","restoredCtx","ɵɵrestoreView","_r3","promo_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","onDelete","ɵɵadvance","ɵɵtextInterpolate","code","validFrom","validTo","discountPercentage","DeletePromocodeComponent","constructor","promoService","promoList","ngOnInit","loadPromoCodes","getPromoCodes","subscribe","next","data","error","err","console","alert","promo","id","confirm","deletePromoCode","res","message","filter","p","ɵɵdirectiveInject","i1","PromocodeService","selectors","decls","vars","consts","template","DeletePromocodeComponent_Template","rf","ctx","ɵɵtemplate","DeletePromocodeComponent_tr_19_Template","ɵɵproperty"],"sources":["C:\\Users\\labuser\\source\\repos\\project\\auth\\src\\app\\delete-promocode\\delete-promocode.component.ts","C:\\Users\\labuser\\source\\repos\\project\\auth\\src\\app\\delete-promocode\\delete-promocode.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { PromocodeService, PromoCode } from '../services/promocode.service';\r\n\r\n@Component({\r\n  selector: 'app-delete-promocode',\r\n  templateUrl: './delete-promocode.component.html',\r\n  styleUrls: ['./delete-promocode.component.css']\r\n})\r\nexport class DeletePromocodeComponent implements OnInit {\r\n\r\n  promoList: PromoCode[] = [];\r\n\r\n  constructor(private promoService: PromocodeService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Fetch promo codes from backend on component load\r\n    this.loadPromoCodes();\r\n  }\r\n\r\n  loadPromoCodes() {\r\n    this.promoService.getPromoCodes().subscribe({\r\n      next: (data) => this.promoList = data,\r\n      error: (err) => {\r\n        console.error('Error fetching promo codes:', err);\r\n        alert('Failed to load promo codes from database.');\r\n      }\r\n    });\r\n  }\r\n\r\nonDelete(promo: PromoCode) {\r\n  if (!promo.id) {\r\n    alert(\"promo id missing\");\r\n    return;\r\n  };\r\n\r\n  if (confirm(`Delete promo code \"${promo.code}\"?`)) {\r\n    this.promoService.deletePromoCode(promo.id).subscribe({\r\n      next: (res: any) => {\r\n        alert(res.message);\r\n        this.promoList = this.promoList.filter(p => p.id !== promo.id);\r\n      },\r\n      error: (err) => {\r\n        console.error('Error deleting promo code:', err);\r\n        alert('Failed to delete promo code.');\r\n      }\r\n    });\r\n  }\r\n  this.loadPromoCodes();\r\n}\r\n}\r\n","<div class=\"promocode-delete\">\r\n  <h2>Delete Promo Code</h2>\r\n\r\n  <!-- Info text -->\r\n  <p>Select a promo code from the list below to delete it.</p>\r\n\r\n  <!-- Promo Codes Table -->\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Code</th>\r\n        <th>Valid From</th>\r\n        <th>Valid To</th>\r\n        <th>Discount (%)</th>\r\n        <th>Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let promo of promoList\">\r\n        <td>{{ promo.code }}</td>\r\n        <td>{{ promo.validFrom }}</td>\r\n        <td>{{ promo.validTo }}</td>\r\n        <td>{{ promo.discountPercentage }}</td>\r\n        <td>\r\n          <button (click)=\"onDelete(promo)\">Delete</button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}